<{ Addcss(/css/adminstyle.css) }>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/medium-editor@latest/dist/css/medium-editor.min.css" type="text/css" media="screen" charset="utf-8">
<script src="//cdn.jsdelivr.net/npm/medium-editor@latest/dist/js/medium-editor.min.js"></script>

<div id="AB" class="AdminBar">
    <img src="/public/img/favicon.png" class="BgImg img-fluid">
    <div class="AdminBarContent">
        <p>{{ message }} </p>
        <button v-if="state==0" @click="StartEdit" class="btn btn-default btn-sm">Включить режим редактирования<i class="fas far fa-edit pl-1"></i></button>
        <button v-if="state==1" @click="StopEdit" class="btn btn-danger btn-sm">Выключить режим редактирования<i class="fas far fa-times-circle pl-1"></i></button>
        <!--<a href="/page/edit/<{pageid}>">Изменить текущую страницу</a>-->
    </div>
    
</div>
<script>
    //var editor = new MediumEditor('.editable');
var app = new Vue({
  el: '#AB',
  data: {
    message: 'Вы вошли как <{login}>',
    editor:null,
    state:0
  },
  methods: {
    StartEdit() {
        if(!this.editor){
            this.editor = new MediumEditor('.editable');
        }
        this.editor.setup();
        this.state = 1;
    },
    StopEdit() {
      this.editor.destroy();
      this.state = 0;
    }
  }
})
</script>